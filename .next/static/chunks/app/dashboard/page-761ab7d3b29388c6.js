(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[105],{29863:(e,r,t)=>{Promise.resolve().then(t.bind(t,54018))},54018:(e,r,t)=>{"use strict";t.d(r,{default:()=>D});var l=t(95155),s=t(12115),a=t(32341),n=t(43463),d=t(69795);function o(){for(var e=arguments.length,r=Array(e),t=0;t<e;t++)r[t]=arguments[t];return(0,d.QP)((0,n.$)(r))}let i=s.forwardRef((e,r)=>{let{className:t,children:s,...n}=e;return(0,l.jsxs)(a.bL,{ref:r,className:o("relative overflow-hidden",t),...n,children:[(0,l.jsx)(a.LM,{className:"h-full w-full rounded-[inherit]",children:s}),(0,l.jsx)(c,{}),(0,l.jsx)(a.OK,{})]})});i.displayName=a.bL.displayName;let c=s.forwardRef((e,r)=>{let{className:t,orientation:s="vertical",...n}=e;return(0,l.jsx)(a.VM,{ref:r,orientation:s,className:o("flex touch-none select-none transition-colors","vertical"===s&&"h-full w-2.5 border-l border-l-transparent p-[1px]","horizontal"===s&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",t),...n,children:(0,l.jsx)(a.lr,{className:"relative flex-1 rounded-full bg-border"})})});c.displayName=a.VM.displayName;var u=t(12317);let m=(0,t(31027).F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),h=s.forwardRef((e,r)=>{let{className:t,variant:s,size:a,asChild:n=!1,...d}=e,i=n?u.DX:"button";return(0,l.jsx)(i,{className:o(m({variant:s,size:a,className:t})),ref:r,...d})});function x(e){let{address:r,batteries:t,selectedBattery:s,onSelectBattery:a}=e;return(0,l.jsx)("div",{className:"w-64 border-r bg-gray-100/40 dark:bg-gray-800/40",children:(0,l.jsxs)("div",{className:"p-4",children:[(0,l.jsx)("p",{className:"text-sm pb-4",children:r}),(0,l.jsx)("h2",{className:"mb-4 text-lg font-semibold",children:"Batteries"}),(0,l.jsx)(i,{className:"h-[calc(100vh-8rem)]",children:t.map(e=>(0,l.jsx)(h,{variant:s.serial_number===e.serial_number?"secondary":"ghost",className:"w-full justify-start mb-1",onClick:()=>a(e),children:e.serial_number},e.serial_number))})]})})}h.displayName="Button";let f=s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,l.jsx)("div",{ref:r,className:o("rounded-xl border bg-card text-card-foreground shadow",t),...s})});f.displayName="Card";let v=s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,l.jsx)("div",{ref:r,className:o("flex flex-col space-y-1.5 p-6",t),...s})});v.displayName="CardHeader";let p=s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,l.jsx)("div",{ref:r,className:o("font-semibold leading-none tracking-tight",t),...s})});p.displayName="CardTitle",s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,l.jsx)("div",{ref:r,className:o("text-sm text-muted-foreground",t),...s})}).displayName="CardDescription";let g=s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,l.jsx)("div",{ref:r,className:o("p-6 pt-0",t),...s})});function b(e){let{serialNumber:r,chargeLevel:t,health:s,lastCharged:a}=e;return(0,l.jsxs)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[(0,l.jsxs)(f,{children:[(0,l.jsx)(v,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:(0,l.jsx)(p,{className:"text-sm font-medium",children:"Serial Number"})}),(0,l.jsx)(g,{children:(0,l.jsx)("div",{className:"text-2xl font-bold",children:r})})]}),(0,l.jsxs)(f,{children:[(0,l.jsx)(v,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:(0,l.jsx)(p,{className:"text-sm font-medium",children:"Current Charge"})}),(0,l.jsx)(g,{children:(0,l.jsxs)("div",{className:"text-2xl font-bold",children:[t,"%"]})})]}),(0,l.jsxs)(f,{children:[(0,l.jsx)(v,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:(0,l.jsx)(p,{className:"text-sm font-medium",children:"Battery Health"})}),(0,l.jsx)(g,{children:(0,l.jsxs)("div",{className:"text-2xl font-bold",children:[s,"%"]})})]}),(0,l.jsxs)(f,{children:[(0,l.jsx)(v,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:(0,l.jsx)(p,{className:"text-sm font-medium",children:"Last Charged"})}),(0,l.jsx)(g,{children:(0,l.jsx)("div",{className:"text-2xl font-bold",children:null==a?void 0:a.toString()})})]})]})}g.displayName="CardContent",s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,l.jsx)("div",{ref:r,className:o("flex items-center p-6 pt-0",t),...s})}).displayName="CardFooter";var j=t(58581),y=t(24817),N=t(12800),w=t(66963),_=t(16161),k=t(27112),C=t(86354);let R={light:"",dark:".dark"},L=s.createContext(null);function K(){let e=s.useContext(L);if(!e)throw Error("useChart must be used within a <ChartContainer />");return e}let B=s.forwardRef((e,r)=>{let{id:t,className:a,children:n,config:d,...i}=e,c=s.useId(),u="chart-".concat(t||c.replace(/:/g,""));return(0,l.jsx)(L.Provider,{value:{config:d},children:(0,l.jsxs)("div",{"data-chart":u,ref:r,className:o("flex aspect-video justify-center text-xs [&_.recharts-cartesian-axis-tick_text]:fill-muted-foreground [&_.recharts-cartesian-grid_line[stroke='#ccc']]:stroke-border/50 [&_.recharts-curve.recharts-tooltip-cursor]:stroke-border [&_.recharts-dot[stroke='#fff']]:stroke-transparent [&_.recharts-layer]:outline-none [&_.recharts-polar-grid_[stroke='#ccc']]:stroke-border [&_.recharts-radial-bar-background-sector]:fill-muted [&_.recharts-rectangle.recharts-tooltip-cursor]:fill-muted [&_.recharts-reference-line_[stroke='#ccc']]:stroke-border [&_.recharts-sector[stroke='#fff']]:stroke-transparent [&_.recharts-sector]:outline-none [&_.recharts-surface]:outline-none",a),...i,children:[(0,l.jsx)(O,{id:u,config:d}),(0,l.jsx)(j.u,{children:n})]})})});B.displayName="Chart";let O=e=>{let{id:r,config:t}=e,s=Object.entries(t).filter(e=>{let[,r]=e;return r.theme||r.color});return s.length?(0,l.jsx)("style",{dangerouslySetInnerHTML:{__html:Object.entries(R).map(e=>{let[t,l]=e;return"\n".concat(l," [data-chart=").concat(r,"] {\n").concat(s.map(e=>{var r;let[l,s]=e,a=(null===(r=s.theme)||void 0===r?void 0:r[t])||s.color;return a?"  --color-".concat(l,": ").concat(a,";"):null}).join("\n"),"\n}\n")}).join("\n")}}):null},S=k.m,M=s.forwardRef((e,r)=>{let{active:t,payload:a,className:n,indicator:d="dot",hideLabel:i=!1,hideIndicator:c=!1,label:u,labelFormatter:m,labelClassName:h,formatter:x,color:f,nameKey:v,labelKey:p}=e,{config:g}=K(),b=s.useMemo(()=>{var e;if(i||!(null==a?void 0:a.length))return null;let[r]=a,t="".concat(p||r.dataKey||r.name||"value"),s=z(g,r,t),n=p||"string"!=typeof u?null==s?void 0:s.label:(null===(e=g[u])||void 0===e?void 0:e.label)||u;return m?(0,l.jsx)("div",{className:o("font-medium",h),children:m(n,a)}):n?(0,l.jsx)("div",{className:o("font-medium",h),children:n}):null},[u,m,a,i,h,g,p]);if(!t||!(null==a?void 0:a.length))return null;let j=1===a.length&&"dot"!==d;return(0,l.jsxs)("div",{ref:r,className:o("grid min-w-[8rem] items-start gap-1.5 rounded-lg border border-border/50 bg-background px-2.5 py-1.5 text-xs shadow-xl",n),children:[j?null:b,(0,l.jsx)("div",{className:"grid gap-1.5",children:a.map((e,r)=>{let t="".concat(v||e.name||e.dataKey||"value"),s=z(g,e,t),a=f||e.payload.fill||e.color;return(0,l.jsx)("div",{className:o("flex w-full flex-wrap items-stretch gap-2 [&>svg]:h-2.5 [&>svg]:w-2.5 [&>svg]:text-muted-foreground","dot"===d&&"items-center"),children:x&&(null==e?void 0:e.value)!==void 0&&e.name?x(e.value,e.name,e,r,e.payload):(0,l.jsxs)(l.Fragment,{children:[(null==s?void 0:s.icon)?(0,l.jsx)(s.icon,{}):!c&&(0,l.jsx)("div",{className:o("shrink-0 rounded-[2px] border-[--color-border] bg-[--color-bg]",{"h-2.5 w-2.5":"dot"===d,"w-1":"line"===d,"w-0 border-[1.5px] border-dashed bg-transparent":"dashed"===d,"my-0.5":j&&"dashed"===d}),style:{"--color-bg":a,"--color-border":a}}),(0,l.jsxs)("div",{className:o("flex flex-1 justify-between leading-none",j?"items-end":"items-center"),children:[(0,l.jsxs)("div",{className:"grid gap-1.5",children:[j?b:null,(0,l.jsx)("span",{className:"text-muted-foreground",children:(null==s?void 0:s.label)||e.name})]}),e.value&&(0,l.jsx)("span",{className:"font-mono font-medium tabular-nums text-foreground",children:e.value.toLocaleString()})]})]})},e.dataKey)})})]})});function z(e,r,t){if("object"!=typeof r||null===r)return;let l="payload"in r&&"object"==typeof r.payload&&null!==r.payload?r.payload:void 0,s=t;return t in r&&"string"==typeof r[t]?s=r[t]:l&&t in l&&"string"==typeof l[t]&&(s=l[t]),s in e?e[s]:e[t]}function E(e){let{data:r}=e;return(0,l.jsxs)(f,{className:"col-span-4",children:[(0,l.jsx)(v,{children:(0,l.jsx)(p,{children:"Charge Level Over Time"})}),(0,l.jsx)(g,{className:"pl-2",children:(0,l.jsx)(B,{config:{level:{label:"Charge Level",color:"hsl(var(--chart-1))"}},className:"h-[300px]",children:(0,l.jsx)(j.u,{width:"100%",height:300,children:(0,l.jsxs)(y.b,{data:r,children:[(0,l.jsx)(N.W,{dataKey:"time"}),(0,l.jsx)(w.h,{}),(0,l.jsx)(S,{content:(0,l.jsx)(M,{})}),(0,l.jsx)(_.N,{type:"monotone",dataKey:"level",stroke:"var(--color-level)",strokeWidth:2})]})})})})]})}M.displayName="ChartTooltip",C.s,s.forwardRef((e,r)=>{let{className:t,hideIcon:s=!1,payload:a,verticalAlign:n="bottom",nameKey:d}=e,{config:i}=K();return(null==a?void 0:a.length)?(0,l.jsx)("div",{ref:r,className:o("flex items-center justify-center gap-4","top"===n?"pb-3":"pt-3",t),children:a.map(e=>{let r="".concat(d||e.dataKey||"value"),t=z(i,e,r);return(0,l.jsxs)("div",{className:o("flex items-center gap-1.5 [&>svg]:h-3 [&>svg]:w-3 [&>svg]:text-muted-foreground"),children:[(null==t?void 0:t.icon)&&!s?(0,l.jsx)(t.icon,{}):(0,l.jsx)("div",{className:"h-2 w-2 shrink-0 rounded-[2px]",style:{backgroundColor:e.color}}),null==t?void 0:t.label]},e.value)})}):null}).displayName="ChartLegend";let T=[{time:"00:00",level:60},{time:"04:00",level:40},{time:"08:00",level:30},{time:"12:00",level:70},{time:"16:00",level:90},{time:"20:00",level:80},{time:"24:00",level:60}];function D(e){let r=e.assets[0],t=r.assets,[a,n]=(0,s.useState)(t[0]),d=a.events[a.events.length-1];return(0,l.jsxs)("div",{className:"flex h-screen",children:[(0,l.jsx)(x,{address:r.address,batteries:t,selectedBattery:a,onSelectBattery:n}),(0,l.jsxs)("main",{className:"flex-1 p-6 overflow-auto",children:[(0,l.jsx)("h1",{className:"text-3xl font-bold mb-6",children:"Battery Dashboard"}),(0,l.jsx)(b,{serialNumber:a.serial_number,chargeLevel:null==d?void 0:d.charge_percent,health:100,lastCharged:null==d?void 0:d.occurred_at}),(0,l.jsx)("div",{className:"mt-6",children:(0,l.jsx)(E,{data:T})})]})]})}}},e=>{var r=r=>e(e.s=r);e.O(0,[217,441,517,358],()=>r(29863)),_N_E=e.O()}]);